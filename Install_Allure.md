#Allure Test Report.
Represents a concise test reporting framework
> https://docs.qameta.io/allure/

##Allure installation:
1. Set travis aws environment variables
    *ARTIFACTS_BUCKET = <bucket name>
    *ARTIFACTS_KEY = <aws key ID>
    *ARTIFACTS_REGION = <aws region>

2. Open travis.yml file and add below commands line in before_install
    *sudo add-apt-repository ppa:qameta/allure -y
    *sudo apt-get updated
    *sudo apt-get install allure

3. Add a new build stage called test_reports
  - name: Generate tests report     
    stage: tests_report    
    install: skip     
    script:         
      - bash _ci/upload_test_artifacts.sh
      
4. Create the upload_test_artifacts.sh script
#### uploads all the artifacts generated by Maven surefire to amazon s3 storage based on travis build number.
aws s3 sync s3://test-report-allure/$TRAVIS_BUILD_NUMBER reports/$TRAVIS_BUILD_NUMBER

#### change directory and list all artifacts in reports folder.
cd reports/$TRAVIS_BUILD_NUMBER
export ARTIFACTS_LIST=$(ls)

#### allure generates report after clear list of artifacts and set output directory in S3 based on travis build number
allure generate -c ARTIFACTS_LIST -o allure/$TRAVIS_BUILD_NUMBER

#### upload and aggregate one single allure report to amazon s3 storage, in the final-report folder, which will contain all test suites results
aws s3 sync allure/$TRAVIS_BUILD_NUMBER s3://test-report-allure/final-report/$TRAVIS_BUILD_NUMBER